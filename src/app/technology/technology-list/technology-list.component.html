<div class="container">
  <app-common-header [headerDetails]="TechnologyGroupHeader" (ButtonClickEvent)="eventHandle($event)"></app-common-header>
  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="listDataSource">
      <ng-container matColumnDef="index">
        <th mat-header-cell *matHeaderCellDef>No</th>
        <td mat-cell *matCellDef="let element">{{ element.index }}</td>
      </ng-container>
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
      </ng-container>
      <ng-container matColumnDef="colorCode">
        <th mat-header-cell *matHeaderCellDef>Hex Color code</th>
        <td mat-cell *matCellDef="let element">{{ element.colorCode }}</td>
      </ng-container>
            <ng-container matColumnDef="preview">
        <th mat-header-cell *matHeaderCellDef>Preview</th>
        <td mat-cell *matCellDef="let element"><mat-chip [style.background]="element.colorCode"><p style="color:white;font-weight: 600;">{{ element.name }}</p></mat-chip></td>
      </ng-container>
      <ng-container matColumnDef="Actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let element">
        <button mat-icon-button (click)="edittechnologyGroup(element)"><mat-icon>edit</mat-icon></button>
        <button mat-icon-button (click)="deletetechnologyGroup(element?._id)"><mat-icon class="delete_icon">delete</mat-icon></button>
      </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>

<ng-template #addtechnologyGroupTemplate>
  <form [formGroup]="technologyGroupForm">
  <div style="padding: 5%;padding-top: 1%;" fxLayout="column" fxLayoutGap="3%">
    <div class="header" fxLayoutAlign="space-between center" style="">
      <h3>{{isEdit?'Edit':'Add'}} Technology</h3>
      <mat-icon style="color:red;cursor: pointer;" (click)="closeDialog()">close</mat-icon>
    </div>
    <div
      fxLayout="column"
      fxLayoutAlign="center center"
      style="width: 100%"
    >
      <mat-form-field appearance="outline" style="width: 100%">
        <mat-label>Technology name</mat-label>
        <input
          matInput
          placeholder="eg:java/c/react"
          formControlName="name"
        />
      </mat-form-field>
      <mat-form-field appearance="outline" style="width: 100%">
        <mat-label>Color Code</mat-label>
        <input matInput type="color" formControlName="colorCode"/>
      </mat-form-field>
    </div>
    <div fxLayout="row" fxLayoutAlign="center center">
      <button
        mat-raised-button
        class="primary-button" (click)="savetechnologyGroup()" [disabled]="!technologyGroupForm.valid"
      >
        {{isEdit?'Update':'Save'}}
      </button>
    </div>
  </div>
  </form>
</ng-template>
